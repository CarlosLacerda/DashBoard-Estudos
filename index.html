<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lacerdash</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/tesseract.js@5/dist/tesseract.min.js"></script>
</head>

<body>
    <!-- TELA DE LOGIN -->
    <div class="login-overlay" id="loginOverlay">
        <div class="login-container">
            <div class="login-header">
                <h1>üìö Lacerdash</h1>
                <p>Organize seu aprendizado</p>
            </div>

            <form id="formLogin" onsubmit="fazerLogin(event)">
                <div class="form-group">
                    <label for="nomeUsuario">üë§ Seu Nome</label>
                    <input type="text" id="nomeUsuario" required placeholder="Digite seu nome" autocomplete="off">
                </div>

                <button type="submit" class="btn-login">üöÄ Entrar</button>
            </form>

            <p class="login-info">Seus dados s√£o salvos localmente no navegador</p>
        </div>
    </div>

    <!-- MODAL DE CONFIRMA√á√ÉO -->
    <div class="modal-overlay hidden" id="modalConfirmacao">
        <div class="modal-container">
            <div class="modal-header">
                <h3>üö™ Confirmar Sa√≠da</h3>
            </div>
            <div class="modal-body">
                <p>Tem certeza que deseja sair?</p>
                <p class="modal-info">Seus dados est√£o salvos e estar√£o aqui quando voc√™ voltar!</p>
            </div>
            <div class="modal-footer">
                <button class="btn-modal btn-cancelar" onclick="fecharModal()">Cancelar</button>
                <button class="btn-modal btn-confirmar" onclick="confirmarLogout()">Sim, Sair</button>
            </div>
        </div>
    </div>

    <!-- NOTIFICA√á√ÉO -->
    <div class="notification" id="notification">‚úÖ Curso adicionado com sucesso!</div>

    <!-- DASHBOARD -->
    <div class="container">
        <div class="header">
            <div class="header-content">
                <div>
                    <h1>üìö Lacerdash</h1>
                    <p>Organize seus cursos e acompanhe seu progresso</p>
                </div>
                <div class="header-actions">
                    <button class="btn-theme" onclick="toggleTheme()" id="btnTheme">
                        <span class="theme-icon">üåô</span>
                        <span class="theme-text">Modo Escuro</span>
                    </button>
                    <div class="user-info">
                        <div class="user-profile-dropdown">
                            <span class="user-name" id="userName" onclick="togglePersonalizacao()">
                                <span id="userNameText">Usu√°rio</span>
                                <span class="dropdown-arrow">‚ñº</span>
                            </span>

                            <!-- DROPDOWN DE PERSONALIZA√á√ÉO -->
                            <div class="personalizacao-dropdown hidden" id="personalizacaoDropdown">
                                <div class="personalizacao-header">
                                    <h4>üé® Personaliza√ß√£o</h4>
                                </div>

                                <div class="personalizacao-body">
                                    <!-- TEMA -->
                                    <div class="personalizacao-item">
                                        <label class="personalizacao-label">
                                            <span class="personalizacao-icon">üé®</span>
                                            <span>Tema</span>
                                        </label>
                                        <div class="theme-selector">
                                            <button class="theme-option active" data-theme="light"
                                                onclick="mudarTemaPersonalizado('light')">
                                                <span>‚òÄÔ∏è</span>
                                                Claro
                                            </button>
                                            <button class="theme-option" data-theme="dark"
                                                onclick="mudarTemaPersonalizado('dark')">
                                                <span>üåô</span>
                                                Escuro
                                            </button>
                                        </div>
                                    </div>

                                    <!-- COR PRINCIPAL -->
                                    <div class="personalizacao-item">
                                        <label class="personalizacao-label">
                                            <span class="personalizacao-icon">üéØ</span>
                                            <span>Cor Principal</span>
                                        </label>
                                        <div class="color-selector">
                                            <button class="color-option active" data-color="blue"
                                                onclick="mudarCorPrincipal('blue')"
                                                style="background: #3b82f6;"></button>
                                            <button class="color-option" data-color="purple"
                                                onclick="mudarCorPrincipal('purple')"
                                                style="background: #8b5cf6;"></button>
                                            <button class="color-option" data-color="pink"
                                                onclick="mudarCorPrincipal('pink')"
                                                style="background: #ec4899;"></button>
                                            <button class="color-option" data-color="green"
                                                onclick="mudarCorPrincipal('green')"
                                                style="background: #10b981;"></button>
                                            <button class="color-option" data-color="orange"
                                                onclick="mudarCorPrincipal('orange')"
                                                style="background: #f59e0b;"></button>
                                            <button class="color-option" data-color="red"
                                                onclick="mudarCorPrincipal('red')"
                                                style="background: #ef4444;"></button>
                                        </div>
                                    </div>

                                    <!-- LAYOUT -->
                                    <div class="personalizacao-item">
                                        <label class="personalizacao-label">
                                            <span class="personalizacao-icon">üìê</span>
                                            <span>Layout Cards</span>
                                        </label>
                                        <div class="layout-selector">
                                            <button class="layout-option active" data-layout="normal"
                                                onclick="mudarLayout('normal')">
                                                Normal
                                            </button>
                                            <button class="layout-option" data-layout="compacto"
                                                onclick="mudarLayout('compacto')">
                                                Compacto
                                            </button>
                                            <button class="layout-option" data-layout="detalhado"
                                                onclick="mudarLayout('detalhado')">
                                                Detalhado
                                            </button>
                                        </div>
                                    </div>

                                    <!-- ANIMA√á√ïES -->
                                    <div class="personalizacao-item">
                                        <label class="personalizacao-label">
                                            <span class="personalizacao-icon">‚ú®</span>
                                            <span>Anima√ß√µes</span>
                                        </label>
                                        <label class="switch-custom">
                                            <input type="checkbox" id="animacoesToggle" checked
                                                onchange="toggleAnimacoes()">
                                            <span class="slider-custom"></span>
                                        </label>
                                    </div>

                                    <!-- EFEITOS VISUAIS -->
                                    <div class="personalizacao-item">
                                        <label class="personalizacao-label">
                                            <span class="personalizacao-icon">üåä</span>
                                            <span>Efeitos de Fundo</span>
                                        </label>
                                        <label class="switch-custom">
                                            <input type="checkbox" id="efeitosToggle" checked
                                                onchange="toggleEfeitos()">
                                            <span class="slider-custom"></span>
                                        </label>
                                    </div>
                                </div>

                                <div class="personalizacao-footer">
                                    <button class="btn-resetar" onclick="resetarPersonalizacao()">
                                        üîÑ Resetar Padr√£o
                                    </button>
                                </div>
                            </div>
                        </div>
                        <button class="btn-logout" onclick="fazerLogout()">üö™ Sair</button>
                    </div>
                </div>
            </div>
        </div>

        <div class="nav-container">
            <!-- Navega√ß√£o Principal (sempre vis√≠vel) -->
            <div class="nav nav-principal">
                <button class="nav-btn active" onclick="showSection('inicio')">
                    <span class="nav-icon">üè†</span>
                    <span class="nav-label">In√≠cio</span>
                </button>
                <button class="nav-btn" onclick="showSection('cursos')">
                    <span class="nav-icon">üìö</span>
                    <span class="nav-label">Cursos</span>
                </button>
                <button class="nav-btn" onclick="showSection('trilhas')">
                    <span class="nav-icon">üéØ</span>
                    <span class="nav-label">Trilhas</span>
                </button>
                <button class="nav-btn" onclick="showSection('analytics')">
                    <span class="nav-icon">üìä</span>
                    <span class="nav-label">Analytics</span>
                </button>
            </div>

            <!-- Menu Dropdown para outras se√ß√µes -->
            <div class="nav-dropdown">
                <button class="nav-dropdown-btn" onclick="toggleNavDropdown()">
                    <span class="nav-icon">‚ö°</span>
                    <span class="nav-label">Ferramentas</span>
                    <span class="dropdown-arrow-nav">‚ñº</span>
                </button>

                <div class="nav-dropdown-menu hidden" id="navDropdownMenu">
                    <button class="nav-dropdown-item" onclick="showSection('pomodoro'); closeNavDropdown();">
                        <span class="nav-icon">‚è±Ô∏è</span>
                        <span>Pomodoro</span>
                    </button>
                    <button class="nav-dropdown-item" onclick="showSection('notas'); closeNavDropdown();">
                        <span class="nav-icon">üìù</span>
                        <span>Notas</span>
                    </button>
                    <button class="nav-dropdown-item" onclick="showSection('biblioteca'); closeNavDropdown();">
                        <span class="nav-icon">üìñ</span>
                        <span>Biblioteca</span>
                    </button>
                    <button class="nav-dropdown-item" onclick="showSection('ferramentas'); closeNavDropdown();">
                        <span class="nav-icon">ü§ñ</span>
                        <span>IA Premium</span>
                    </button>

                    <div class="nav-divider"></div>

                    <button class="nav-dropdown-item" onclick="showSection('gamificacao'); closeNavDropdown();">
                        <span class="nav-icon">üèÜ</span>
                        <span>Gamifica√ß√£o</span>
                    </button>
                    <button class="nav-dropdown-item" onclick="showSection('certificados'); closeNavDropdown();">
                        <span class="nav-icon">üéì</span>
                        <span>Certificados</span>
                    </button>
                    <button class="nav-dropdown-item" onclick="showSection('financeiro'); closeNavDropdown();">
                        <span class="nav-icon">üí∞</span>
                        <span>Financeiro</span>
                    </button>
                    <button class="nav-dropdown-item" onclick="showSection('dados'); closeNavDropdown();">
                        <span class="nav-icon">üíæ</span>
                        <span>Backup</span>
                    </button>
                </div>
            </div>
        </div>

        <div class="content">
            <!-- IN√çCIO -->
            <!-- IN√çCIO -->
            <div id="inicio" class="section active">
                <div class="stats-container">
                    <div class="stat-card">
                        <h3 id="totalCursos">0</h3>
                        <p>Total de Cursos</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="cursosAndamento">0</h3>
                        <p>Em Andamento</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="cursosConcluidos">0</h3>
                        <p>Conclu√≠dos</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="progressoMedio">0%</h3>
                        <p>Progresso M√©dio</p>
                    </div>
                </div>

                <!-- GR√ÅFICOS -->
                <div class="graficos-container">
                    <div class="grafico-card">
                        <h3>üìä Distribui√ß√£o por Categoria</h3>
                        <canvas id="graficoCategorias"></canvas>
                    </div>

                    <div class="grafico-card">
                        <h3>üìà Status dos Cursos</h3>
                        <canvas id="graficoStatus"></canvas>
                    </div>
                </div>

                <div class="grafico-card-wide">
                    <h3>üéØ Progresso por Curso</h3>
                    <canvas id="graficoProgresso"></canvas>
                </div>

                <div class="welcome" id="welcomeMessage">
                    <h2>Bem-vindo ao seu espa√ßo de aprendizado! üöÄ</h2>
                    <p>Comece adicionando seus primeiros cursos e acompanhe sua evolu√ß√£o.</p>
                </div>
            </div>

            <!-- CURSOS -->
            <div id="cursos" class="section">
                <div
                    style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; flex-wrap: wrap; gap: 15px;">
                </div>
                <div
                    style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; flex-wrap: wrap; gap: 15px;">
                    <h2 style="margin: 0; color: #667eea;">üìñ Meus Cursos</h2>
                    <button class="btn-adicionar-curso" onclick="showSection('adicionar')">
                        ‚ûï Adicionar Novo Curso
                    </button>
                </div>
                <div class="filtros-container">
                    <div class="filtro-grupo">
                        <label>üè∑Ô∏è Categoria:</label>
                        <select id="filtrCategoria" onchange="aplicarFiltros()">
                            <option value="todas">Todas</option>
                            <option value="Programa√ß√£o">Programa√ß√£o</option>
                            <option value="Design">Design</option>
                            <option value="Marketing">Marketing</option>
                            <option value="Idiomas">Idiomas</option>
                            <option value="Neg√≥cios">Neg√≥cios</option>
                            <option value="Dados">Dados</option>
                            <option value="Outros">Outros</option>
                        </select>
                    </div>

                    <div class="filtro-grupo">
                        <label>üìä Status:</label>
                        <select id="filtroStatus" onchange="aplicarFiltros()">
                            <option value="todos">Todos</option>
                            <option value="em-andamento">Em Andamento</option>
                            <option value="concluido">Conclu√≠do</option>
                            <option value="pausado">Pausado</option>
                            <option value="nao-iniciado">N√£o Iniciado</option>
                        </select>
                    </div>

                    <div class="filtro-grupo">
                        <label>üîç Buscar:</label>
                        <input type="text" id="filtroBusca" placeholder="Nome do curso..." oninput="aplicarFiltros()"
                            autocomplete="off">
                    </div>

                    <button class="btn-limpar" onclick="limparFiltros()">üîÑ Limpar Filtros</button>
                </div>
                <div id="listaCursos"></div>
            </div>

            <!-- ADICIONAR -->
            <div id="adicionar" class="section">
                <div
                    style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px; flex-wrap: wrap; gap: 15px;">
                    <h2 style="margin: 0; color: #667eea;">‚ûï Adicionar Novo Curso</h2>
                    <button class="btn-voltar" onclick="showSection('cursos')">
                        ‚Üê Voltar para Meus Cursos
                    </button>
                </div>

                <div class="form-container">
                    <form id="formCurso" onsubmit="adicionarCurso(event)">
                        <div class="form-group">
                            <label for="nomeCurso">Nome do Curso *</label>
                            <input type="text" id="nomeCurso" required placeholder="Ex: JavaScript Avan√ßado"
                                autocomplete="off">
                        </div>

                        <!-- ‚úÖ NOVO CAMPO ADICIONADO AQUI -->
                        <div class="form-group">
                            <label for="categoria">Categoria *</label>
                            <select id="categoria" required onchange="toggleCategoriaCustom()">
                                <option value="">Selecione...</option>
                                <option value="Programa√ß√£o">Programa√ß√£o</option>
                                <option value="Design">Design</option>
                                <option value="Marketing">Marketing</option>
                                <option value="Idiomas">Idiomas</option>
                                <option value="Neg√≥cios">Neg√≥cios</option>
                                <option value="Dados">Dados</option>
                                <option value="Outros">Outros (personalizar)</option>
                            </select>
                            <input type="text" id="categoriaCustom" placeholder="Digite a categoria..."
                                autocomplete="off" style="display: none; margin-top: 10px;">
                        </div>

                        <div class="form-group">
                            <label for="plataforma">Plataforma *</label>
                            <select id="plataforma" required onchange="togglePlataformaCustom()">
                                <option value="">Selecione...</option>
                                <option value="Udemy">Udemy</option>
                                <option value="Alura">Alura</option>
                                <option value="Rocketseat">Rocketseat</option>
                                <option value="Coursera">Coursera</option>
                                <option value="DIO">DIO</option>
                                <option value="YouTube">YouTube</option>
                                <option value="Outro">Outro (personalizar)</option>
                            </select>
                            <input type="text" id="plataformaCustom" placeholder="Digite a plataforma..."
                                autocomplete="off" style="display: none; margin-top: 10px;">
                        </div>

                        <div class="form-group">
                            <label for="status">Status *</label>
                            <select id="status" required onchange="atualizarProgressoPorStatus()">
                                <option value="nao-iniciado">N√£o Iniciado</option>
                                <option value="em-andamento" selected>Em Andamento</option>
                                <option value="pausado">Pausado</option>
                                <option value="concluido">Conclu√≠do</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="progresso">Progresso (%)</label>
                            <input type="number" id="progresso" min="0" max="100" value="0" placeholder="0-100">
                        </div>

                        <div class="form-group">
                            <label for="anotacoes">Anota√ß√µes</label>
                            <textarea id="anotacoes" placeholder="Suas anota√ß√µes sobre o curso..."></textarea>
                        </div>

                        <div class="form-group">
                            <label for="videoaulas">üé• Videoaulas do YouTube</label>
                            <div id="listaVideoaulas"></div>
                            <div style="display: flex; gap: 10px; margin-top: 10px;">
                                <input type="text" id="linkYoutube" placeholder="Cole o link do YouTube aqui..."
                                    autocomplete="off" style="flex: 1;">
                                <button type="button" class="btn-add-video" onclick="adicionarVideoaula()">‚ûï
                                    Adicionar</button>
                            </div>
                            <small style="color: var(--text-secondary); display: block; margin-top: 5px;">
                                Cole links como: https://www.youtube.com/watch?v=VIDEO_ID
                            </small>
                        </div>

                        <button type="submit" class="btn-submit">üíæ Salvar Curso</button>
                    </form>
                </div>
            </div>

            <!-- TRILHAS -->
            <div id="trilhas" class="section">
                <h2 style="margin-bottom: 20px; color: #667eea;">üéØ Trilhas Sugeridas Para Voc√™</h2>

                <div class="recomendacao-box">
                    <h3>üí° Com base nos seus cursos</h3>
                    <div id="recomendacoesPessoais"></div>
                </div>

                <h3 style="margin: 30px 0 20px 0; color: #fff;">üìö Trilhas Completas</h3>
                <div id="trilhasCompletas"></div>
            </div>

            <!-- POMODORO -->
            <div id="pomodoro" class="section">
                <h2 style="margin-bottom: 30px; color: #3b82f6; text-align: center;">‚è±Ô∏è Timer de Estudo (Pomodoro)
                </h2>

                <div class="pomodoro-container">
                    <!-- TIMER PRINCIPAL -->
                    <div class="pomodoro-timer">
                        <div class="timer-mode-selector">
                            <button class="mode-btn active" data-mode="pomodoro" onclick="selecionarModo('pomodoro')">
                                üçÖ Pomodoro
                            </button>
                            <button class="mode-btn" data-mode="pausa-curta" onclick="selecionarModo('pausa-curta')">
                                ‚òï Pausa Curta
                            </button>
                            <button class="mode-btn" data-mode="pausa-longa" onclick="selecionarModo('pausa-longa')">
                                üå¥ Pausa Longa
                            </button>
                        </div>

                        <div class="timer-display" id="timerDisplay">25:00</div>

                        <div class="timer-controls">
                            <button class="timer-btn btn-start" id="btnStart" onclick="iniciarTimer()">
                                ‚ñ∂Ô∏è Iniciar
                            </button>
                            <button class="timer-btn btn-pause" id="btnPause" onclick="pausarTimer()"
                                style="display: none;">
                                ‚è∏Ô∏è Pausar
                            </button>
                            <button class="timer-btn btn-reset" onclick="resetarTimer()">
                                üîÑ Resetar
                            </button>
                        </div>

                        <div class="timer-info">
                            <div class="info-item">
                                <span class="info-label">Sess√µes Completas:</span>
                                <span class="info-value" id="sessoesCompletas">0</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Tempo Total Hoje:</span>
                                <span class="info-value" id="tempoTotalHoje">0h 0min</span>
                            </div>
                        </div>
                    </div>

                    <!-- CONFIGURA√á√ïES -->
                    <div class="pomodoro-config">
                        <h3>‚öôÔ∏è Configura√ß√µes</h3>

                        <div class="config-group">
                            <label>üçÖ Dura√ß√£o Pomodoro (min)</label>
                            <input type="number" id="duracaoPomodoro" value="25" min="1" max="60"
                                onchange="salvarConfiguracoes()">
                        </div>

                        <div class="config-group">
                            <label>‚òï Pausa Curta (min)</label>
                            <input type="number" id="duracaoPausaCurta" value="5" min="1" max="30"
                                onchange="salvarConfiguracoes()">
                        </div>

                        <div class="config-group">
                            <label>üå¥ Pausa Longa (min)</label>
                            <input type="number" id="duracaoPausaLonga" value="15" min="1" max="60"
                                onchange="salvarConfiguracoes()">
                        </div>

                        <div class="config-group">
                            <label>
                                <input type="checkbox" id="autoIniciarPausas" onchange="salvarConfiguracoes()">
                                Auto-iniciar pausas
                            </label>
                        </div>

                        <div class="config-group">
                            <label>
                                <input type="checkbox" id="notificacoesSom" checked onchange="salvarConfiguracoes()">
                                Som nas notifica√ß√µes
                            </label>
                        </div>
                    </div>
                </div>

                <!-- HIST√ìRICO -->
                <div class="pomodoro-historico">
                    <h3>üìä Hist√≥rico de Hoje</h3>
                    <div id="historicoLista"></div>
                </div>
            </div>

            <!-- NOTAS -->
            <div id="notas" class="section">
                <h2 style="margin-bottom: 30px; color: #3b82f6; text-align: center;">üìù Minhas Notas</h2>

                <div class="notas-toolbar">
                    <button class="btn-nova-nota" onclick="criarNovaNota()">
                        ‚ûï Nova Nota
                    </button>
                    <div class="notas-search">
                        <input type="text" id="buscaNotas" placeholder="üîç Buscar notas..." oninput="buscarNotas()"
                            autocomplete="off">
                    </div>
                </div>

                <div class="notas-container">
                    <!-- LISTA DE NOTAS -->
                    <div class="notas-lista">
                        <div id="listaNotas"></div>
                    </div>

                    <!-- EDITOR DE NOTA -->
                    <div class="notas-editor" id="editorNota">
                        <div class="editor-vazio">
                            <div class="editor-vazio-icon">üìù</div>
                            <h3>Nenhuma nota selecionada</h3>
                            <p>Crie uma nova nota ou selecione uma existente</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- GAMIFICA√á√ÉO -->
            <div id="gamificacao" class="section">
                <h2 style="margin-bottom: 30px; color: #3b82f6; text-align: center;">üèÜ Gamifica√ß√£o e Conquistas
                </h2>

                <!-- PERFIL DO JOGADOR -->
                <div class="perfil-jogador">
                    <div class="perfil-avatar">
                        <div class="avatar-circle">
                            <span class="avatar-nivel" id="avatarNivel">1</span>
                        </div>
                        <h3 id="perfilNome">Iniciante</h3>
                    </div>

                    <div class="perfil-stats">
                        <div class="stat-xp">
                            <div class="stat-header">
                                <span>‚ö° XP: <strong id="xpAtual">0</strong> / <strong id="xpProximo">100</strong></span>
                                <span class="nivel-badge">N√≠vel <strong id="nivelAtual">1</strong></span>
                            </div>
                            <div class="xp-bar">
                                <div class="xp-fill" id="xpFill" style="width: 0%"></div>
                            </div>
                        </div>

                        <div class="stats-grid">
                            <div class="stat-item-game">
                                <span class="stat-icon">üî•</span>
                                <div>
                                    <div class="stat-value" id="streakDias">0</div>
                                    <div class="stat-label">Dias Seguidos</div>
                                </div>
                            </div>
                            <div class="stat-item-game">
                                <span class="stat-icon">üèÜ</span>
                                <div>
                                    <div class="stat-value" id="totalBadges">0</div>
                                    <div class="stat-label">Conquistas</div>
                                </div>
                            </div>
                            <div class="stat-item-game">
                                <span class="stat-icon">‚≠ê</span>
                                <div>
                                    <div class="stat-value" id="totalPontos">0</div>
                                    <div class="stat-label">Pontos Totais</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- CONQUISTAS -->
                <div class="conquistas-section">
                    <h3>üèÖ Conquistas Desbloqueadas</h3>
                    <div class="conquistas-grid" id="conquistasGrid"></div>
                </div>

                <!-- RANKING -->
                <div class="ranking-section">
                    <h3>üìä Seus Rankings</h3>
                    <div class="ranking-cards">
                        <div class="ranking-card">
                            <div class="ranking-icon">üìö</div>
                            <h4>Cursos Completados</h4>
                            <div class="ranking-value" id="rankingCursos">0</div>
                            <p class="ranking-desc">cursos finalizados</p>
                        </div>
                        <div class="ranking-card">
                            <div class="ranking-icon">‚è±Ô∏è</div>
                            <h4>Tempo de Estudo</h4>
                            <div class="ranking-value" id="rankingTempo">0h</div>
                            <p class="ranking-desc">horas estudadas</p>
                        </div>
                        <div class="ranking-card">
                            <div class="ranking-icon">üéØ</div>
                            <h4>Taxa de Conclus√£o</h4>
                            <div class="ranking-value" id="rankingTaxa">0%</div>
                            <p class="ranking-desc">de progresso m√©dio</p>
                        </div>
                    </div>
                </div>

                <!-- DESAFIOS -->
                <div class="desafios-section">
                    <h3>üéØ Desafios da Semana</h3>
                    <div id="desafiosLista"></div>
                </div>
            </div>

            <!-- BIBLIOTECA DE RECURSOS -->
            <div id="biblioteca" class="section">
                <h2 style="margin-bottom: 30px; color: #3b82f6; text-align: center;">üìö Biblioteca de Recursos</h2>

                <div class="biblioteca-toolbar">
                    <button class="btn-novo-recurso" onclick="abrirModalRecurso()">
                        ‚ûï Adicionar Recurso
                    </button>
                    <div class="biblioteca-filtros">
                        <select id="filtroCursoBiblioteca" onchange="filtrarRecursos()">
                            <option value="todos">Todos os Cursos</option>
                        </select>
                        <select id="filtroTipoBiblioteca" onchange="filtrarRecursos()">
                            <option value="todos">Todos os Tipos</option>
                            <option value="link">üîó Links</option>
                            <option value="pdf">üìÑ PDFs</option>
                            <option value="video">üé• V√≠deos</option>
                            <option value="artigo">üì∞ Artigos</option>
                            <option value="outro">üìå Outros</option>
                        </select>
                        <input type="text" id="buscaBiblioteca" placeholder="üîç Buscar recursos..."
                            oninput="filtrarRecursos()">
                    </div>
                </div>

                <div id="listaRecursos"></div>

                <div id="semRecursos" class="empty-state" style="display: none;">
                    <h3>üìö Nenhum recurso ainda</h3>
                    <p>Comece adicionando links, PDFs e materiais de estudo!</p>
                </div>
            </div>

            <!-- ANALYTICS (NOVA SE√á√ÉO) -->
            <div id="analytics" class="section">
                <h2 style="margin-bottom: 30px; color: #3b82f6; text-align: center;">üìä Dashboard Analytics</h2>

                <!-- Cards de M√©tricas -->
                <div class="analytics-cards">
                    <div class="analytics-card">
                        <div class="analytics-card-icon">üî•</div>
                        <div class="analytics-card-info">
                            <div class="analytics-card-label">Streak Atual</div>
                            <div class="analytics-card-value" id="analyticsStreak">0 dias</div>
                        </div>
                    </div>

                    <div class="analytics-card">
                        <div class="analytics-card-icon">‚ö°</div>
                        <div class="analytics-card-info">
                            <div class="analytics-card-label">Produtividade</div>
                            <div class="analytics-card-value" id="analyticsProdutividade">0%</div>
                        </div>
                    </div>

                    <div class="analytics-card">
                        <div class="analytics-card-icon">üìà</div>
                        <div class="analytics-card-info">
                            <div class="analytics-card-label">Evolu√ß√£o Mensal</div>
                            <div class="analytics-card-value" id="analyticsEvolucao">+0%</div>
                        </div>
                    </div>

                    <div class="analytics-card">
                        <div class="analytics-card-icon">üéØ</div>
                        <div class="analytics-card-info">
                            <div class="analytics-card-label">Meta do M√™s</div>
                            <div class="analytics-card-value" id="analyticsMeta">0/3</div>
                        </div>
                    </div>
                </div>

                <!-- Gr√°fico de Atividade Semanal -->
                <div class="analytics-section">
                    <h3>üìÖ Atividade da Semana</h3>
                    <div class="heatmap-container" id="heatmapSemanal"></div>
                </div>

                <!-- Comparativo Mensal -->
                <div class="analytics-section">
                    <h3>üìä Comparativo Mensal</h3>
                    <canvas id="graficoComparativoMensal"></canvas>
                </div>

                <!-- Tempo M√©dio de Estudo -->
                <div class="analytics-grid">
                    <div class="analytics-box">
                        <h4>‚è±Ô∏è Tempo M√©dio de Estudo</h4>
                        <div class="analytics-big-number" id="analyticsTempoMedio">0h 0min</div>
                        <p class="analytics-desc">por dia nos √∫ltimos 7 dias</p>
                    </div>

                    <div class="analytics-box">
                        <h4>üèÜ Melhor Dia</h4>
                        <div class="analytics-big-number" id="analyticsMelhorDia">Domingo</div>
                        <p class="analytics-desc" id="analyticsMelhorDiaHoras">0h 0min estudadas</p>
                    </div>

                    <div class="analytics-box">
                        <h4>üìö Categoria Favorita</h4>
                        <div class="analytics-big-number" id="analyticsCategoriaFav">-</div>
                        <p class="analytics-desc" id="analyticsCategoriaFavQtd">0 cursos</p>
                    </div>
                </div>
            </div>

            <!-- CERTIFICADOS -->
            <div id="certificados" class="section">
                <h2 style="margin-bottom: 30px; color: #3b82f6; text-align: center;">üèÜ Meus Certificados</h2>

                <div id="listaCertificados"></div>

                <div id="semCertificados" class="empty-state" style="display: none;">
                    <h3>üéì Nenhum certificado ainda</h3>
                    <p>Complete um curso 100% para desbloquear seu certificado!</p>
                </div>
            </div>

            <!-- FERRAMENTAS IA -->
            <div id="ferramentas" class="section">
                <h2 style="margin-bottom: 30px; color: #3b82f6; text-align: center;">ü§ñ Ferramentas IA Premium</h2>

                <div class="ferramentas-grid">
                    <!-- GERADOR DE RESUMOS -->
                    <div class="ferramenta-card">
                        <div class="ferramenta-header">
                            <div class="ferramenta-icon">üìù</div>
                            <div>
                                <h3>Gerador de Resumos</h3>
                                <p>Crie resumos autom√°ticos dos seus textos</p>
                            </div>
                        </div>

                        <div class="ferramenta-body">
                            <textarea id="textoOriginal"
                                placeholder="Cole aqui o texto que voc√™ quer resumir (m√≠nimo 100 caracteres)..."
                                rows="8" autocomplete="off"></textarea>

                            <div class="ferramenta-config">
                                <label>
                                    Tamanho do resumo:
                                    <select id="tamanhoResumo">
                                        <option value="curto">Curto (3-5 frases)</option>
                                        <option value="medio" selected>M√©dio (5-8 frases)</option>
                                        <option value="longo">Longo (8-12 frases)</option>
                                    </select>
                                </label>
                            </div>

                            <button class="btn-ferramenta" onclick="gerarResumo()">
                                ‚ú® Gerar Resumo
                            </button>

                            <div class="resultado-container" id="resultadoResumo" style="display: none;">
                                <div class="resultado-header">
                                    <h4>üìã Resumo Gerado:</h4>
                                    <button class="btn-copiar" onclick="copiarResumo()">üìã Copiar</button>
                                </div>
                                <div class="resultado-texto" id="textoResumo"></div>
                                <button class="btn-salvar-nota" onclick="salvarResumoComoNota()">
                                    üíæ Salvar como Nota
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- OCR - EXTRAIR TEXTO DE IMAGEM -->
                    <div class="ferramenta-card">
                        <div class="ferramenta-header">
                            <div class="ferramenta-icon">üì∑</div>
                            <div>
                                <h3>OCR - Extrair Texto</h3>
                                <p>Extraia texto de imagens e screenshots</p>
                            </div>
                        </div>

                        <div class="ferramenta-body">
                            <div class="upload-area" id="uploadArea"
                                onclick="document.getElementById('imagemOCR').click()">
                                <div class="upload-icon">üì∏</div>
                                <p>Clique ou arraste uma imagem</p>
                                <small>Suporta: JPG, PNG, WEBP</small>
                            </div>
                            <input type="file" id="imagemOCR" accept="image/*" style="display: none;"
                                onchange="processarImagemOCR(event)">

                            <div class="preview-container" id="previewContainer" style="display: none;">
                                <img id="imagemPreview" alt="Preview">
                            </div>

                            <div class="ocr-progresso" id="ocrProgresso" style="display: none;">
                                <div class="progresso-barra">
                                    <div class="progresso-fill" id="ocrProgressoFill"></div>
                                </div>
                                <p id="ocrStatus">Processando imagem...</p>
                            </div>

                            <div class="resultado-container" id="resultadoOCR" style="display: none;">
                                <div class="resultado-header">
                                    <h4>üìù Texto Extra√≠do:</h4>
                                    <button class="btn-copiar" onclick="copiarTextoOCR()">üìã Copiar</button>
                                </div>
                                <textarea class="resultado-texto-edit" id="textoOCR" rows="10"
                                    placeholder="O texto extra√≠do aparecer√° aqui..."></textarea>
                                <button class="btn-salvar-nota" onclick="salvarOCRComoNota()">
                                    üíæ Salvar como Nota
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- INFO PREMIUM -->
                <div class="premium-info">
                    <div class="premium-badge">‚ú® PREMIUM</div>
                    <h3>Ferramentas de IA para turbinar seus estudos</h3>
                    <ul>
                        <li>‚úÖ Resumos autom√°ticos inteligentes</li>
                        <li>‚úÖ OCR em portugu√™s com alta precis√£o</li>
                        <li>‚úÖ Salve resultados diretamente como notas</li>
                        <li>‚úÖ Processamento 100% local (privacidade total)</li>
                    </ul>
                </div>
            </div>

            <!-- FINANCEIRO -->
            <div id="financeiro" class="section">
                <h2 style="margin-bottom: 30px; color: #3b82f6; text-align: center;">üí∞ Gest√£o Financeira de Cursos</h2>

                <!-- RESUMO FINANCEIRO -->
                <div class="financeiro-resumo">
                    <div class="financeiro-card">
                        <div class="financeiro-icon">üíµ</div>
                        <div class="financeiro-info">
                            <div class="financeiro-label">Total Investido</div>
                            <div class="financeiro-valor" id="totalInvestido">R$ 0,00</div>
                        </div>
                    </div>

                    <div class="financeiro-card">
                        <div class="financeiro-icon">‚úÖ</div>
                        <div class="financeiro-info">
                            <div class="financeiro-label">Cursos Conclu√≠dos</div>
                            <div class="financeiro-valor" id="totalConcluidos">0</div>
                        </div>
                    </div>

                    <div class="financeiro-card">
                        <div class="financeiro-icon">üìä</div>
                        <div class="financeiro-info">
                            <div class="financeiro-label">ROI M√©dio</div>
                            <div class="financeiro-valor" id="roiMedio">0%</div>
                        </div>
                    </div>

                    <div class="financeiro-card">
                        <div class="financeiro-icon">üõí</div>
                        <div class="financeiro-info">
                            <div class="financeiro-label">Na Wishlist</div>
                            <div class="financeiro-valor" id="totalWishlist">0</div>
                        </div>
                    </div>
                </div>

                <!-- A√á√ïES -->
                <div class="financeiro-acoes">
                    <button class="btn-financeiro btn-adicionar-valor" onclick="abrirModalValorCurso()">
                        üíµ Adicionar Valores aos Cursos
                    </button>
                    <button class="btn-financeiro btn-wishlist" onclick="abrirModalWishlist()">
                        üõí Gerenciar Wishlist
                    </button>
                    <button class="btn-financeiro btn-nota-fiscal" onclick="abrirModalFiltroNota()">
                        üìÑ Emitir Nota Fiscal
                    </button>
                </div>

                <!-- GR√ÅFICO DE GASTOS -->
                <div class="grafico-card-wide">
                    <h3>üí∞ Gastos por Categoria</h3>
                    <canvas id="graficoGastos"></canvas>
                </div>

                <!-- LISTA DE CURSOS COM VALORES -->
                <div class="cursos-financeiros">
                    <h3>üìö Cursos Adquiridos</h3>
                    <div id="listaCursosFinanceiros"></div>
                </div>

                <!-- WISHLIST -->
                <div class="wishlist-section">
                    <div class="wishlist-header">
                        <h3>üõí Minha Wishlist</h3>
                        <button class="btn-add-wishlist" onclick="abrirModalWishlist()">‚ûï Adicionar</button>
                    </div>
                    <div id="listaWishlist"></div>
                </div>

                <!-- ALERTAS DE PROMO√á√ÉO -->
                <div class="alertas-section">
                    <h3>üîî Alertas de Promo√ß√£o</h3>
                    <div id="listaAlertas"></div>
                </div>

                <!-- MODAL FILTRO DE NOTA FISCAL -->
                <div class="modal-filtro-nota hidden" id="modalFiltroNota">
                    <div class="modal-filtro-content">
                        <div class="modal-filtro-header">
                            <h3>üìÖ Selecionar Per√≠odo da Nota Fiscal</h3>
                            <button class="btn-close-filtro" onclick="fecharModalFiltroNota()">‚úï</button>
                        </div>

                        <div class="modal-filtro-body">
                            <div class="filtro-opcoes">
                                <button class="filtro-btn active" onclick="selecionarPeriodoNota('todos')"
                                    data-periodo="todos">
                                    üìö Todos os Cursos
                                </button>
                                <button class="filtro-btn" onclick="selecionarPeriodoNota('mes')" data-periodo="mes">
                                    üìÜ √öltimo M√™s
                                </button>
                                <button class="filtro-btn" onclick="selecionarPeriodoNota('trimestre')"
                                    data-periodo="trimestre">
                                    üìä √öltimo Trimestre
                                </button>
                                <button class="filtro-btn" onclick="selecionarPeriodoNota('ano')" data-periodo="ano">
                                    üìÖ √öltimo Ano
                                </button>
                                <button class="filtro-btn" onclick="selecionarPeriodoNota('personalizado')"
                                    data-periodo="personalizado">
                                    üéØ Personalizado
                                </button>
                            </div>

                            <div class="filtro-personalizado hidden" id="filtroPersonalizado">
                                <div class="form-group">
                                    <label>Data Inicial</label>
                                    <input type="date" id="dataInicial">
                                </div>
                                <div class="form-group">
                                    <label>Data Final</label>
                                    <input type="date" id="dataFinal">
                                </div>
                            </div>

                            <div class="filtro-preview" id="filtroPreview">
                                <p>üìã Ser√° gerada nota fiscal com <strong id="totalCursosFiltrados">0</strong> curso(s)
                                </p>
                                <p>üí∞ Valor total: <strong id="valorTotalFiltrado">R$ 0,00</strong></p>
                            </div>
                        </div>

                        <div class="modal-filtro-footer">
                            <button class="btn-modal btn-cancelar" onclick="fecharModalFiltroNota()">Cancelar</button>
                            <button class="btn-modal btn-confirmar" onclick="gerarNotaFiscalFiltrada()">
                                üìÑ Gerar Nota Fiscal
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- DADOS -->
            <div id="dados" class="section">
                <h2 style="margin: 0 0 30px 0; padding: 0; color: #3b82f6; text-align: center;">üíæ Gerenciar Dados &
                    Backup</h2>

                <!-- BACKUP AUTOM√ÅTICO -->
                <div class="backup-auto-section">
                    <div class="backup-auto-card">
                        <div class="backup-auto-header">
                            <div>
                                <h3>üîÑ Backup Autom√°tico Local</h3>
                                <p>Crie backups autom√°ticos a cada altera√ß√£o</p>
                            </div>
                            <label class="switch">
                                <input type="checkbox" id="backupAutoToggle" onchange="toggleBackupAutomatico()">
                                <span class="slider"></span>
                            </label>
                        </div>
                        <div class="backup-auto-info">
                            <div class="info-item-backup">
                                <span class="info-label-backup">√öltimo Backup:</span>
                                <span class="info-value-backup" id="ultimoBackup">Nunca</span>
                            </div>
                            <div class="info-item-backup">
                                <span class="info-label-backup">Backups Salvos:</span>
                                <span class="info-value-backup" id="totalBackups">0</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- HIST√ìRICO DE VERS√ïES -->
                <div class="versoes-section">
                    <div class="versoes-header">
                        <h3>üìú Hist√≥rico de Vers√µes</h3>
                        <button class="btn-limpar-versoes" onclick="limparHistoricoVersoes()">üóëÔ∏è Limpar
                            Hist√≥rico</button>
                    </div>
                    <div id="listaVersoes"></div>
                </div>

                <div class="dados-container">
                    <!-- EXPORTAR -->
                    <div class="dados-card">
                        <div class="dados-icon">üì§</div>
                        <h3>Exportar Dados</h3>
                        <p>Fa√ßa backup dos seus cursos</p>
                        <div style="display: flex; flex-direction: column; gap: 10px;">
                            <button class="btn-dados btn-exportar" onclick="exportarDados()">
                                üì• Baixar JSON
                            </button>
                            <button class="btn-dados btn-exportar-pdf" onclick="exportarPDF()">
                                üìÑ Gerar Relat√≥rio PDF
                            </button>
                        </div>
                    </div>

                    <!-- IMPORTAR -->
                    <div class="dados-card">
                        <div class="dados-icon">üì•</div>
                        <h3>Importar Dados</h3>
                        <p>Restaure seus cursos de um arquivo JSON</p>
                        <input type="file" id="fileImport" accept=".json" style="display: none;"
                            onchange="importarDados(event)">
                        <button class="btn-dados btn-importar" onclick="document.getElementById('fileImport').click()">
                            üìÇ Selecionar Arquivo
                        </button>
                    </div>

                    <!-- LIMPAR -->
                    <div class="dados-card">
                        <div class="dados-icon">üóëÔ∏è</div>
                        <h3>Limpar Todos os Dados</h3>
                        <p>Remove todos os cursos e configura√ß√µes</p>
                        <button class="btn-dados btn-limpar" onclick="confirmarLimparDados()">
                            ‚ö†Ô∏è Limpar Tudo
                        </button>
                    </div>

                    <!-- ESTAT√çSTICAS -->
                    <div class="dados-card">
                        <div class="dados-icon">üìä</div>
                        <h3>Estat√≠sticas de Armazenamento</h3>
                        <div class="dados-stats">
                            <div class="stat-item">
                                <span class="stat-label">Total de Cursos:</span>
                                <span class="stat-value" id="statTotalCursos">0</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">Tamanho dos Dados:</span>
                                <span class="stat-value" id="statTamanhoDados">0 KB</span>
                            </div>
                            <div class="stat-item">
                                <span class="stat-label">√öltima Atualiza√ß√£o:</span>
                                <span class="stat-value" id="statUltimaAtualizacao">-</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- INFO -->
                <div class="dados-info">
                    <h4>‚ÑπÔ∏è Informa√ß√µes Importantes</h4>
                    <ul>
                        <li>Os dados s√£o salvos localmente no seu navegador (localStorage)</li>
                        <li>Backup autom√°tico cria vers√µes a cada altera√ß√£o importante</li>
                        <li>Voc√™ pode restaurar qualquer vers√£o anterior do hist√≥rico</li>
                        <li>Ao exportar, voc√™ cria uma c√≥pia de seguran√ßa de todos os seus dados</li>
                        <li>Limpar dados √© irrevers√≠vel - fa√ßa backup antes!</li>
                    </ul>
                </div>
            </div>

        </div>

        <!-- MODAL CUPOM FISCAL -->
        <div class="modal-cupom-fiscal" id="modalCupomFiscal">
            <div class="modal-cupom-content">
                <div class="cupom-header">
                    <h3>üìÑ Nota Fiscal - Cupom T√©rmico</h3>
                    <button class="btn-close-cupom" onclick="fecharCupomFiscal()">‚úï</button>
                </div>

                <div class="cupom-preview" id="cupomPreview">
                    <!-- O cupom ser√° gerado aqui via JavaScript -->
                </div>

                <div class="cupom-acoes">
                    <button class="btn-cupom-acao btn-baixar-cupom" onclick="baixarCupomPDF()">
                        üì• Baixar PDF
                    </button>
                    <button class="btn-cupom-acao btn-fechar-modal" onclick="fecharCupomFiscal()">
                        Fechar
                    </button>
                </div>
            </div>
        </div>


        <script src="script.js"></script>


</body>

</html>